(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{181:function(t,s,e){"use strict";e.r(s);var n=e(0),a=Object(n.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._m(2),t._v(" "),e("p",[t._v("我们来把这条命令拆分下：")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://www.npmjs.com/package/cross-env",target:"_blank",rel:"noopener noreferrer"}},[t._v("cross-env"),e("OutboundLink")],1),t._v(" 是一个跨平台用于定义环境变量的工具，"),e("code",[t._v("BABEL_ENV=utils")]),t._v(" 就是它定义的一个环境变量（后面会讲到这个变量的用处）")])]),t._v(" "),e("p",[t._v("使用之前需要先安装：")]),t._v(" "),t._m(3),e("ul",[e("li",[e("a",{attrs:{href:"https://www.npmjs.com/package/babel-cli",target:"_blank",rel:"noopener noreferrer"}},[t._v("babel"),e("OutboundLink")],1),t._v(" 是一个命令行工具，用于将 ES6+ 语法编译成 ES5。更多用法可以参考"),e("a",{attrs:{href:"https://www.babeljs.cn/docs/usage/cli/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Babel中文网"),e("OutboundLink")],1)])]),t._v(" "),e("p",[t._v("使用之前需要先安装：")]),t._v(" "),t._m(4),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),e("p",[e("a",{attrs:{href:"https://www.babeljs.cn/docs/usage/api/#options",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),e("OutboundLink")],1),t._v("有 "),e("code",[t._v(".babelrc")]),t._v(" 所有的配置项，这里先说下 "),e("code",[t._v("env")]),t._v(" 属性:")]),t._v(" "),t._m(9),t._v(" "),e("p",[t._v("因此，我们通过上面的 "),e("code",[t._v("cross-env")]),t._v(" 在 "),e("code",[t._v("env")]),t._v(" 中我们设置了一个 "),e("code",[t._v("utils")]),t._v(" 变量。 并且在变量里我们还用到了一个插件 "),e("a",{attrs:{href:"https://www.npmjs.com/package/babel-plugin-module-resolver",target:"_blank",rel:"noopener noreferrer"}},[t._v("babel-plugin-module-resolver"),e("OutboundLink")],1),t._v(":")]),t._v(" "),t._m(10),e("p",[t._v("关于这个插件的文档介绍，可以"),e("a",{attrs:{href:"https://github.com/tleunen/babel-plugin-module-resolver/blob/HEAD/DOCS.md#root",target:"_blank",rel:"noopener noreferrer"}},[t._v("移步这里"),e("OutboundLink")],1),t._v("。我们来看下上面插件的两个配置是干嘛的：")]),t._v(" "),t._m(11),t._v(" "),t._m(12),e("p",[t._v("就是这么来的。")]),t._v(" "),t._m(13),t._v(" "),e("p",[t._v("这条命令的目的其实就一个，即对外暴露工具给用户使用。")])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"build-utils"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#build-utils","aria-hidden":"true"}},[this._v("#")]),this._v(" build:utils")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"build:utils"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cross-env BABEL_ENV=utils babel src --out-dir lib --ignore src/index.js"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("这个命令的意思是，将 "),s("code",[this._v("src")]),this._v(" 目录下除 "),s("code",[this._v("src/index.js")]),this._v(" 之外的所有文件编译后输出到根目录下的 "),s("code",[this._v("lib")]),this._v(" 文件夹下。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("npm")]),this._v(" i cross-env -D "),s("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# 或 yarn add cross-env -D")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("npm")]),this._v(" i babel-cli -D "),s("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# 或 yarn add babel-cli -D")]),this._v("\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[e("code",[t._v("babel src --out-dir lib")]),t._v(" 把 "),e("code",[t._v("src")]),t._v(" 的所有文件编译后输出到 "),e("code",[t._v("lib")]),t._v(" 下，注意路径都是相对根路径")]),t._v(" "),e("li",[e("code",[t._v("--ignore src/index.js")]),t._v(" 忽略 "),e("code",[t._v("src/index.js")]),t._v(" 文件")]),t._v(" "),e("li",[e("code",[t._v("--out-dir")]),t._v(" 输出文件夹")]),t._v(" "),e("li",[e("code",[t._v("--ignore")]),t._v(" 忽略某个文件或文件夹")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"babel-env"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#babel-env","aria-hidden":"true"}},[this._v("#")]),this._v(" BABEL_ENV")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("通过 "),s("code",[this._v("BABEL_ENV")]),this._v(" 定义的变量可以在 "),s("code",[this._v(".babelrc")]),this._v(" 文件中找到，打开这个文件：")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js extra-class"},[e("div",{staticClass:"highlight-lines"},[e("br"),e("br"),e("br"),e("br"),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("br")]),e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"presets"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"es2015"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"loose"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"plugins"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"transform-vue-jsx"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"env"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"utils"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"plugins"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"module-resolver"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"root"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"element-ui"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"alias"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"element-ui/src"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"element-ui/lib"')]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[e("code",[t._v("env")]),t._v(" 表示不同环境的键的对象。例如，当环境变量 "),e("code",[t._v("BABEL_ENV")]),t._v(" 设置为 "),e("code",[t._v('"production"')]),t._v(" 时，可以像这样设置 "),e("code",[t._v("{ env: { production: { /* specific options */ } } }")]),t._v("。如果 "),e("code",[t._v("BABEL_ENV")]),t._v(" 未设置，那么 "),e("code",[t._v("NODE_ENV")]),t._v(" 将被启用，如果 "),e("code",[t._v("NODE_ENV")]),t._v(" 也未被设置，则默认为 "),e("code",[t._v('"development"')]),t._v(" 环境。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("npm")]),this._v(" i babel-plugin-module-resolver -D\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# or")]),this._v("\nyarn i babel-plugin-module-resolver -D\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[e("code",[t._v("root")]),t._v(" 设置根目录，这里设置的是 "),e("code",[t._v("element-ui")]),t._v(" 因为发布后的包名就是 "),e("code",[t._v("element-ui")])]),t._v(" "),e("li",[e("code",[t._v("alias")]),t._v(" 设置别名，意思就是把文件中用到的 "),e("code",[t._v("element-ui/src")]),t._v(" 路径统统替换成 "),e("code",[t._v("element-ui/lib")]),t._v(" ，将来可以提供给用户使用，比如我们在自己项目中使用的国际化配置：")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[this._v("import")]),this._v(" locale "),s("span",{pre:!0,attrs:{class:"token keyword"}},[this._v("from")]),this._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[this._v("'element-ui/lib/locale/lang/en'")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结","aria-hidden":"true"}},[this._v("#")]),this._v(" 总结")])}],!1,null,null,null);a.options.__file="build-utils.md";s.default=a.exports}}]);